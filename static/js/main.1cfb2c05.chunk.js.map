{"version":3,"sources":["components/Nav/Nav.module.css","components/Nav/Nav.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Friends/Friends.js","components/Redux/dialogs-reducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/Contacts.jsx","components/Profile/ProfileInfo/ProfileData.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Redux/profile-reducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/LoginForm.jsx","components/Login/LoginContainer.jsx","components/Redux/app-reducer.js","App.js","components/Redux/sidebar-reducer.js","components/Redux/redux-store.js","index.js","components/Dialogs/Dialogs.module.css","assets/images/defaultAvatar.png","components/Header/Header.module.css","components/Login/LoginForm.module.css","components/Hoc/withAuthRedirect.jsx","components/common/preloader/Preloader.js","components/Profile/ProfileInfo/contacts.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Redux/users-reducer.js","components/common/preloader/Preloader.module.css","components/Login/LoginContainer.module.css","components/api.js"],"names":["module","exports","Nav","className","s","nav","nav__item","activeClassName","active","to","friends","News","Music","Settings","settings","Friends","ADD_MESSAGE","initialState","messagesData","id","message","dialogsData","name","dialogsReducer","state","action","type","newMessage","newMessageBody","newMessageText","DialogItem","props","path","dialogs","Message","dialog","Dialogs","dialogsPage","addMessage","dialogsElements","map","messageElements","initialValues","onSubmit","dialogsItems","messages","cols","rows","button","compose","connect","dialogPage","dispatch","addMessageActionCreator","withAuthRedirect","ProfileStatus","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","ProfileDataForm","profile","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contacts","validate","values","errors","component","Object","keys","key","Contacts","contactTitle","contactValue","ProfileData","isOwner","goToEditMode","onClick","ProfileInfo","savePhoto","saveProfile","Preloader","description","profileInfo","src","photos","large","defaultAvatar","alt","target","files","length","then","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","SAVE_PROFILE_SUCCESS","postData","likeCount","getProfileThunkCreator","userId","a","usersApi","getProfile","response","user","data","profileReducer","newPost","newPostText","filter","p","postId","Post","item","avatar","MyPosts","postsElements","profilePage","post","postsBlock","addPost","posts","MyPostsContainer","addPostActionCreator","Profile","ProfileContainer","this","match","params","authorizedUserId","getStatusThunkCreator","refreshProfile","prevProps","prevState","snapshot","updateStatusThunkCreator","React","Component","auth","authMe","isAuth","profileAPI","getStatus","resultCode","file","getState","withRouter","Header","logout","login","header","loginBlock","loginElem","headerPhoto","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","email","captcha","setAuthUserData","authMeThunkCreator","authReducer","payload","HeaderContainer","authAPI","LoginForm","captchaUrl","getCaptchaUrl","password","rememberMe","test","FormikHelpers","setFieldError","loginForm","autoComplete","error","disabled","LoginContainer","loginContainer","url","SET_INITIALIZE","initialized","appReducer","UsersContainer","lazy","App","initializeApp","exact","render","DialogsContainer","fallback","app","promise","Promise","all","sideBarReducer","reducers","combineReducers","sidebar","usersPage","usersReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","RedirectComponent","styles","ldsSpinner","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","userData","pageSize","totalUsersCount","currentPage","isFetching","followed","followingInProcess","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProcess","getUsersThunkCreator","getUsers","users","items","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","follow","postUsers","bind","unfollow","deleteUsers","u","instance","axios","withCredentials","baseURL","headers","get","delete","console","log","put","photoFile","formData","FormData","append"],"mappings":"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","file":"static/js/main.1cfb2c05.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2CofN\",\"nav__item\":\"Nav_nav__item__gMr6Y\",\"active\":\"Nav_active__1_mZJ\",\"friends\":\"Nav_friends__quApM\"};","import React from 'react'\r\nimport s from \"./Nav.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n    return <nav className={s.nav}>\r\n        <div className={s.nav__item}>\r\n            <NavLink activeClassName={s.active} to=\"/profile\">Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.nav__item} ${s.active}`}>\r\n            <NavLink activeClassName={s.active} to=\"/dialogs\">Messages</NavLink>\r\n        </div >\r\n        <div className={s.nav__item}>\r\n            <NavLink activeClassName={s.active} to=\"/news\">News</NavLink>\r\n        </div>\r\n        <div className={s.nav__item}>\r\n            <NavLink activeClassName={s.active} to=\"/music\">Music</NavLink>\r\n        </div>\r\n        <div className={s.nav__item}>\r\n            <NavLink activeClassName={s.active} to=\"/users\">Users</NavLink>\r\n        </div>\r\n        <div className={s.nav__item}>\r\n            <NavLink activeClassName={s.active} to=\"/settings\">Settings</NavLink>\r\n        </div>\r\n        <div className={s.friends}>\r\n            <NavLink activeClassName={s.active} to=\"/friends\">Friends</NavLink>\r\n        </div>\r\n\r\n    </nav>\r\n}\r\n\r\nexport default Nav;","import React from 'react'\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\nexport default News;","import React from 'react'\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Music;","import React from 'react'\r\nimport s from \"./Settings.module.css\"\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className={s.settings}>Settings</div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from \"react\";\r\nimport s from './Friends.module.css'\r\n\r\nconst Friends = () =>{\r\n    return (\r\n        <div className={s.friends}>\r\n            Friends\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","const ADD_MESSAGE = 'ADD-MESSAGE';\r\nconst UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\r\n\r\nlet initialState = {\r\n    messagesData: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'Hey'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'}\r\n    ],\r\n    dialogsData: [\r\n        {id: 1, name: 'Andrey',},\r\n        {id: 2, name: 'Sveta'},\r\n        {id: 3, name: 'Sasha'},\r\n        {id: 4, name: 'Vasya'},\r\n        {id: 5, name: 'Petya'},\r\n        {id: 6, name: 'Kolya'}\r\n\r\n    ],\r\n}\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            let newMessage = {\r\n                id: 5,\r\n                message: action.newMessageBody,\r\n            }\r\n            return {\r\n                ...state,\r\n                messagesData:[...state.messagesData, newMessage],\r\n                newMessageText: ''\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let addMessageActionCreator = (newMessageBody) => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        newMessageBody\r\n    }\r\n}\r\n\r\nexport let updateNewMessageTextActionCreator = (message) => {\r\n    return {\r\n        type: UPDATE_NEW_MESSAGE_TEXT,\r\n        newMessage: message\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","import s from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst DialogItem = (props) => {\r\n    let path = '/dialogs/' + props.id;\r\n    return (\r\n        <div className={s.dialogs + ' ' + s.active}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import s from \"../Dialogs.module.css\";\r\nimport React from \"react\";\r\n\r\nconst Message = ({message}) => {\r\n    return (\r\n        <div className={s.dialog}>{message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { Field, Form, Formik } from \"formik\";\r\n\r\nconst Dialogs = ({ dialogsPage,addMessage }) => {\r\n\r\n    let dialogsElements = dialogsPage.dialogsData.map((dialog) => {\r\n        return <DialogItem key={dialog.id} name={dialog.name} id={dialog.id}/>\r\n    })\r\n\r\n    let messageElements = dialogsPage.messagesData.map((message) => {\r\n        return <Message key={message.id} message={message.message} id={message.id}/>\r\n    })\r\n\r\n    let onMessageAdd = (newMessageBody) => {\r\n        addMessage(newMessageBody)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Formik\r\n                initialValues={{\r\n                    newMessageBody: ''\r\n                }}\r\n                onSubmit={(initialValues) => {\r\n                    onMessageAdd(initialValues.newMessageBody)\r\n                }}>\r\n                {(props) => {\r\n                    return (\r\n                        <Form className={s.dialogs}>\r\n                            <div className={s.dialogsItems}>\r\n                                {dialogsElements}\r\n                            </div>\r\n                            <div className={s.messages}>\r\n                                {messageElements}\r\n                            </div>\r\n                            <div className={s.messages}>\r\n                                {messageElements}\r\n                            </div>\r\n                            <div className={s.addMessage}>\r\n                                <Field name=\"newMessageBody\" cols=\"20\" rows=\"5\"/>\r\n                                <button type='submit' className={s.button}>add message</button>\r\n                            </div>\r\n                        </Form>\r\n                    )\r\n                }\r\n                }\r\n            </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { addMessageActionCreator } from \"../Redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from \"../Hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogPage,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (newMessageBody) => {\r\n            dispatch(addMessageActionCreator(newMessageBody));\r\n        },\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nconst ProfileStatus = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deActivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n\r\n        <div>\r\n\r\n            {!editMode &&\r\n            <div>\r\n                <b>Status</b>: <span onDoubleClick={activateEditMode}>{props.status || 'No status'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange}\r\n                       onBlur={deActivateEditMode}\r\n                       autoFocus={true}\r\n                       value={status}\r\n                />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\r\nimport s from \"./contacts.module.css\";\r\n\r\nconst ProfileDataForm = ({  profile ,onSubmit}) => {\r\n\r\n    return (<div>\r\n        <Formik\r\n            initialValues={{\r\n                fullName: profile.fullName,\r\n                lookingForAJob: profile.lookingForAJob,\r\n                lookingForAJobDescription: profile.lookingForAJobDescription,\r\n                aboutMe: profile.aboutMe,\r\n                contacts: profile.contacts\r\n            }}\r\n            validate={values => {\r\n                const errors = {}\r\n                if (!values.contacts) {\r\n                    errors.contacts = 'Required'\r\n                }if (!values.fullName) {\r\n                    errors.fullName = 'Required'\r\n                }\r\n                return errors\r\n            }}\r\n            onSubmit={(initialValues) => {\r\n                onSubmit(initialValues)\r\n                    // .then((response) => {\r\n                    //    if (response.data.messages.length >= 0) {\r\n                      //      debugger\r\n                          //  FormikHelpers.setFieldError('contacts', 'Invalid contact url')\r\n                        //}\r\n                    // })\r\n            }}\r\n        >\r\n            <Form>\r\n                <button type='submit'>Save</button>\r\n                <div>\r\n                    <b>Full name : </b><Field name=\"fullName\"/>\r\n                    <ErrorMessage name='fullName' component='div'/>\r\n                </div>\r\n                <div><b>Looking for a job : </b> <Field type=\"checkbox\" name=\"lookingForAJob\"/></div>\r\n                <div>Contacts : {Object.keys(profile.contacts).map(key => {\r\n                    return <div className={s.contacts} key={key}>\r\n                        <div><b>{key}</b>: <div><Field name={'contacts.' + key}/></div></div>\r\n                        <ErrorMessage name='contacts' component='div'/>\r\n                    </div>\r\n                })}\r\n                    <ErrorMessage name='contacts' component='div'/>\r\n                </div>\r\n                <ErrorMessage name='contacts' component='div'/>\r\n                <div>\r\n                    <b>My professional skills : </b><Field name=\"lookingForAJobDescription\"/>\r\n                </div>\r\n                <div>\r\n                    <b>About me : </b><Field name='aboutMe'/>\r\n                </div>\r\n            </Form>\r\n        </Formik>\r\n    </div>)\r\n}\r\n\r\n\r\nexport default ProfileDataForm;","import React from \"react\";\r\nimport s from './contacts.module.css'\r\n\r\nconst Contacts = ({ contactTitle, contactValue }) => {\r\n    return <div className={s.contacts}><b>{contactTitle}: {contactValue}</b></div>\r\n}\r\n\r\nexport default Contacts;","import React from \"react\";\r\nimport Contacts from \"./Contacts\";\r\n\r\nconst ProfileData = ({ profile , isOwner ,goToEditMode}) => {\r\n\r\n    return (<div>\r\n        <div>{isOwner && <button onClick={goToEditMode}>Edit</button>}</div>\r\n        <div><b>Full name</b> : {profile.fullName} </div>\r\n        <div><b>Looking for a job</b> : {profile.lookingForAJob ? ' Yes' : 'No'} </div>\r\n        <div><b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n            return <Contacts key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n        })}\r\n\r\n        </div>\r\n\r\n        {\r\n            profile.lookingForAJob &&\r\n            <div>\r\n                <b>My professional skills : </b>{profile.lookingForAJobDescription}\r\n            </div>\r\n        }\r\n\r\n        <div><b>About me : </b>{profile.aboutMe}</div>\r\n    </div>)\r\n}\r\n\r\nexport default ProfileData;","import React, { useState } from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport defaultAvatar from '../../../assets/images/defaultAvatar.png'\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport ProfileData from \"./ProfileData\";\r\n\r\nconst ProfileInfo = ({ profile, updateStatus, status, isOwner, savePhoto, saveProfile }) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoChange = (e) => {\r\n        if (e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (initialValues) => {\r\n        saveProfile(initialValues)\r\n            .then(() => {\r\n                    setEditMode(false)\r\n            })\r\n\r\n\r\n    }\r\n\r\n    return (<div>\r\n            <div className={s.description}>\r\n                <div className={s.profileInfo}>\r\n                    <img  src={profile.photos.large != null ? profile.photos.large : defaultAvatar} alt=\"\"/>\r\n                    <div>{isOwner && <input type={'file'} onChange={onMainPhotoChange}/>}</div>\r\n                    {editMode ?\r\n                        <ProfileDataForm onSubmit={onSubmit} profile={profile} saveProfile={saveProfile}/> :\r\n                        <ProfileData isOwner={isOwner} goToEditMode={() => {\r\n                            setEditMode(true)\r\n                        }} profile={profile}/>\r\n                    }\r\n                </div>\r\n                <ProfileStatus updateStatus={updateStatus} status={status}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default ProfileInfo;","import { profileAPI, usersApi } from \"../api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\nconst SAVE_PROFILE_SUCCESS = 'SAVE_PROFILE_SUCCESS'\r\n\r\nlet initialState = {\r\n    postData: [\r\n        { id: 1, message: 'Hi', likeCount: 12 },\r\n        { id: 2, message: 'Hey', likeCount: 20 },\r\n        { id: 3, message: 'How many likes do you have?', likeCount: 30 },\r\n        { id: 4, message: 'Its my first post', likeCount: 43 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likeCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                postData: [...state.postData, newPost],\r\n                newPostText: ''\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.user\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                postData: state.postData.filter(p => p.id !== action.postId)\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state, profile: { ...state.profile, photos: action.photos }\r\n            }\r\n        case SAVE_PROFILE_SUCCESS:\r\n            return {\r\n                ...state, profile: { ...state.profile, profile: action.profile }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText\r\n    }\r\n}\r\n\r\nexport let setUserProfile = (user) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        user\r\n    }\r\n}\r\n\r\nexport let setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n}\r\n\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    }\r\n}\r\n\r\nexport const savePhotoSuccess = (photos) => {\r\n    return {\r\n        type: SAVE_PHOTO_SUCCESS,\r\n        photos\r\n    }\r\n}\r\nexport const saveProfileSuccess = (profile) => {\r\n    return {\r\n        type: SAVE_PROFILE_SUCCESS,\r\n        profile\r\n    }\r\n}\r\n\r\n\r\nexport const getProfileThunkCreator = (userId) => async (dispatch) => {\r\n    let response = await usersApi.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatusThunkCreator = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatusThunkCreator = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => {\r\n    return async (dispatch, getState) => {\r\n        const userId = getState().auth.userId\r\n        const response = await profileAPI.saveProfile(profile)\r\n        debugger\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getProfileThunkCreator(userId))\r\n            // return Promise.resolve(getProfileThunkCreator(userId))\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReducer;","import React from 'react'\r\nimport s from \"./Post.module.css\"\r\nimport defaultAvatar from '../../../../assets/images/defaultAvatar.png'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img className={s.avatar} src={defaultAvatar} alt=\"\"/>\r\n            {props.message}\r\n            <div> like {props.likeCount} </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    let postsElements = props.profilePage.postData.map((post) => {\r\n        return <Post key={post.id} message={post.message} likeCount={post.likeCount}/>;\r\n    })\r\n\r\n    let addPost = (newPost) => {\r\n        props.addPost(newPost);\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <Formik\r\n                initialValues={{\r\n                    newPost: ''\r\n                }}\r\n                validate={(initialValues) => {\r\n                    const errors = {}\r\n                    if (!initialValues.newPost) {\r\n                        errors.newPost = 'Field is required';\r\n                    }\r\n                    return errors;\r\n                }}\r\n                onSubmit={(initialValues) => {\r\n                    addPost(initialValues.newPost);\r\n                }\r\n                }\r\n            >\r\n                {(props) => {\r\n                    return (\r\n                        <Form>\r\n                            <h3>My posts</h3>\r\n                            <div>\r\n                                <Field name=\"newPost\"/>\r\n                                <ErrorMessage name=\"newPost\" component='div'/>\r\n                            </div>\r\n                            <div>\r\n                                <button type='submit'>Add post</button>\r\n                            </div>\r\n                            <div className={s.posts}>\r\n                                {postsElements}\r\n                            </div>\r\n                        </Form>\r\n                    )\r\n                }\r\n                }\r\n            </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport { addPostActionCreator } from \"../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import React from 'react'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = ({ status,profile,updateStatus,isOwner,savePhoto,saveProfile }) => {\r\n    return (<div>\r\n        <ProfileInfo savePhoto={savePhoto}\r\n                     isOwner={isOwner}\r\n                     status={status}\r\n                     profile={profile}\r\n                     updateStatus={updateStatus}\r\n                     saveProfile={saveProfile}/>\r\n        <MyPostsContainer />\r\n    </div>);\r\n}\r\n\r\nexport default Profile;","import React from 'react'\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getProfileThunkCreator,\r\n    getStatusThunkCreator,\r\n    savePhoto, saveProfile,\r\n    updateStatusThunkCreator\r\n} from \"../Redux/profile-reducer\";\r\nimport {withRouter} from 'react-router-dom'\r\nimport {compose} from \"redux\";\r\nimport { withAuthRedirect } from \"../Hoc/withAuthRedirect\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId){\r\n            userId = this.props.authorizedUserId;\r\n        }\r\n        this.props.getProfileThunkCreator(userId)\r\n        this.props.getStatusThunkCreator(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId){\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile {...this.props}\r\n                         isOwner={!this.props.match.params.userId}\r\n                         profile={this.props.profile}\r\n                         status={this.props.status}\r\n                         updateStatus={this.props.updateStatusThunkCreator}\r\n                         savePhoto={this.props.savePhoto}\r\n                         saveProfile={this.props.saveProfile}\r\n                />\r\n            </div>)\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n        authMe: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfileThunkCreator,\r\n        getStatusThunkCreator,updateStatusThunkCreator, savePhoto,saveProfile}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)","import React from 'react'\r\nimport s from \"./Header.module.css\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport defaultAvatar from \"../../assets/images/defaultAvatar.png\";\r\n\r\nconst Header = ({ logout, login, isAuth, profile }) => {\r\n    return (<header className={s.header}>\r\n        <img className={s.header} src='https://miro.medium.com/max/1000/1*Yafu7ihc1LFuP4azerAa4w.png' alt=\"\"/>\r\n        <div className={s.loginBlock}>\r\n            {isAuth\r\n                ?\r\n                <div className={s.loginElem}>\r\n                    <img className={s.headerPhoto} src={defaultAvatar} alt=\"\"/>\r\n                    <span>\r\n                        {login} - <button onClick={logout}>Log out</button>\r\n                    </span>\r\n                </div>\r\n                : <NavLink to={'/login'}>Login</NavLink>\r\n            }\r\n        </div>\r\n    </header>);\r\n}\r\n\r\nexport default Header;","import { authAPI, usersApi } from \"../api\";\r\nimport defaultAvatar from '../../assets/images/defaultAvatar.png'\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    defaultAvatar: { defaultAvatar },\r\n    captcha: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        }\r\n        case GET_CAPTCHA_URL_SUCCESS:{\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    data: { userId, email, login, isAuth }\r\n})\r\nexport const getCaptchaSuccess = (captcha) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captcha}\r\n})\r\n\r\nexport const authMeThunkCreator = () => async (dispatch) => {\r\n    const response = await usersApi.authMe()\r\n    if (response.data.resultCode === 0) {\r\n        const { id, email, login, captcha } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true,captcha))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await authAPI.captchaUrl()\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react'\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props} profile={this.props.profile}/>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    profile: state.profilePage.profile\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import { ErrorMessage, Field, Form, Formik } from \"formik\";\r\nimport React from \"react\";\r\nimport { authAPI } from \"../api\";\r\nimport s from \"./LoginForm.module.css\"\r\n\r\nconst LoginForm = ({ authMeThunkCreator, captchaUrl , getCaptchaUrl }) => {\r\n\r\n    return (<div>\r\n            <Formik\r\n                initialValues={{\r\n                    email: '',\r\n                    password: '',\r\n                    rememberMe: false,\r\n                    captcha: ''\r\n                }}\r\n                validate={values => {\r\n                    const errors = {};\r\n                    if (!values.email) {\r\n                        errors.email = 'Required';\r\n                    } else if (\r\n                        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\r\n                    ) {\r\n                        errors.email = 'Invalid email address';\r\n                    }\r\n                    if (!values.password) {\r\n                        errors.password = 'Required';\r\n                    }\r\n                    // } else if (values.password.length < 8) {\r\n                    //     errors.password = 'Password must be at least 8 characters!';\r\n                    // }\r\n                    return errors;\r\n                }}\r\n                onSubmit={(initialValues, FormikHelpers) => {\r\n                    authAPI.login(initialValues.email, initialValues.password, initialValues.rememberMe,\r\n                        initialValues.captcha)\r\n                        .then((response) => {\r\n                                if (response.data.resultCode === 0) {\r\n                                    authMeThunkCreator()\r\n                                } else if (response.data.resultCode === 1) {\r\n                                    FormikHelpers.setFieldError('email', 'Invalid email')\r\n                                    FormikHelpers.setFieldError('password', 'Invalid password')\r\n                                } else if (response.data.resultCode === 10) {\r\n                                    getCaptchaUrl()\r\n                                    FormikHelpers.setFieldError('captcha', 'Invalid anti-bot symbol')\r\n                                }\r\n                            }\r\n                        )\r\n                }}\r\n            >\r\n                {(props) => {\r\n                    return (\r\n                        <Form className={s.loginForm}>\r\n                            <h3>Email</h3>\r\n                            <Field autoComplete=\"username\" type=\"email\" name=\"email\"/>\r\n                            <ErrorMessage className={s.error} name=\"email\" component=\"div\"/>\r\n                            <h3>Password</h3>\r\n                            <Field autoComplete=\"current-password\" type=\"password\" name=\"password\"/>\r\n                            <ErrorMessage className={s.error} name=\"password\" component=\"div\"/>\r\n                            <div>\r\n                                <Field type=\"checkbox\" name=\"rememberMe\"/>\r\n                                remember me\r\n                            </div>\r\n\r\n                            <div>{captchaUrl && <img  src={captchaUrl} />}</div>\r\n                            <div>{captchaUrl && <Field name='captcha' />}</div>\r\n\r\n                            <ErrorMessage className={s.error} name=\"captcha\" component=\"div\"/>\r\n                            <div>\r\n                                <button type=\"submit\" disabled={false}>Sign up</button>\r\n                            </div>\r\n                        </Form>)\r\n                }\r\n                }\r\n            </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm;","import React from 'react'\r\nimport LoginForm from \"./LoginForm\";\r\nimport { connect } from \"react-redux\";\r\nimport { authMeThunkCreator, getCaptchaUrl, } from \"../Redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport s from './LoginContainer.module.css'\r\n\r\nclass LoginContainer extends React.Component {\r\n\r\n    render() {\r\n        if (this.props.isAuth) {\r\n            return <Redirect to={'/profile'}/>\r\n        }\r\n        return (\r\n            <div className={s.loginContainer}>\r\n                <h1>Login</h1>\r\n                <LoginForm captchaUrl={this.props.captchaUrl}\r\n                           authMeThunkCreator={this.props.authMeThunkCreator}\r\n                           getCaptchaUrl={this.props.getCaptchaUrl}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captcha\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { authMeThunkCreator , getCaptchaUrl })(LoginContainer);","import { authMeThunkCreator } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZE = 'SET_INITIALIZE'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZE:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let initializeSuccess = () => ({ type: SET_INITIALIZE })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\r\n    let promise = dispatch(authMeThunkCreator())\r\n\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializeSuccess())\r\n        })\r\n}\r\n\r\n\r\nexport default appReducer;","import React, { lazy, Suspense } from \"react\";\nimport './App.css';\nimport Nav from \"./components/Nav/Nav\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport Friends from \"./components/Friends/Friends\";\nimport { Route } from 'react-router-dom';\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginContainer from \"./components/Login/LoginContainer\";\nimport { connect } from \"react-redux\";\nimport { initializeApp } from \"./components/Redux/app-reducer\";\nimport Preloader from \"./components/common/preloader/Preloader\";\nimport { compose } from \"redux\";\nimport {Redirect} from \"react-router-dom\";\n\n\n\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'))\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='main'>\n                <div className=\"app-wrapper\">\n                    <HeaderContainer/>\n                    <Nav/>\n                    <div className='app-wrapper-content'>\n\n                            <Route path='/' exact><Redirect to='/profile'/></Route>\n                            <Route path='/dialogs'\n                                   render={() => <DialogsContainer/>}/>\n                            <Route path='/profile/:userId?'\n                                   render={() => <ProfileContainer/>}/>\n                            <Route path='/news' component={News}/>\n                            <Suspense fallback={<div>...loading</div>}>\n                                <Route path='/users'\n                                       render={() => <UsersContainer/>}/>\n                            </Suspense>\n                            <Route path='/music' component={Music}/>\n                            <Route path='/settings' component={Settings}/>\n                            <Route path='/friends' component={Friends}/>\n                            <Route path='/login'\n                                   render={() => <LoginContainer/>}/>\n\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nexport default compose(\n    connect(mapStateToProps, { initializeApp }))(App);\n","\r\nlet initialState = {}\r\n\r\nconst sideBarReducer = (state = initialState,action) => {\r\n    return state;\r\n}\r\n\r\nexport default sideBarReducer;","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sideBarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    sidebar: sideBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n})\r\n\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './components/Redux/redux-store';\nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2Eitc\",\"dialogsItems\":\"Dialogs_dialogsItems__31LRN\",\"addMessage\":\"Dialogs_addMessage__2mIv-\",\"button\":\"Dialogs_button__ivoL8\",\"active\":\"Dialogs_active__a_bFp\",\"messages\":\"Dialogs_messages__f1tPu\"};","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2gJAk\",\"loginBlock\":\"Header_loginBlock__3CypZ\",\"headerPhoto\":\"Header_headerPhoto__282TC\",\"loginHeader\":\"Header_loginHeader__sFzzJ\",\"loginElem\":\"Header_loginElem__3qn-L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"LoginForm_error__3UVHc\"};","import React from 'react'\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    let mapStateToPropsForRedirect = (state) => {\r\n        return {\r\n            isAuth: state.auth.isAuth\r\n        }\r\n    }\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth === false) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedRedirectComponent\r\n}","import styles from '../preloader/Preloader.module.css'\r\nimport React from 'react'\r\n\r\n\r\nconst Preloader = (props) => {\r\n\r\n    return <div>\r\n        {\r\n            <div className={styles.ldsSpinner}>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"contacts_contacts__xSREA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__3fXNL\",\"profileInfo\":\"ProfileInfo_profileInfo__15QJ9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1HQ1U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Post_avatar__3IjN1\"};","import { usersApi } from \"../api\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING_IN_PROGRESS'\r\n\r\nlet initialState = {\r\n    userData: [],\r\n    pageSize: 6,\r\n    totalUsersCount: 30,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followed: true,\r\n    followingInProcess: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                userData: state.userData.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                userData: state.userData.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return { ...state, userData: action.users }\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return { ...state, totalUsersCount: action.count }\r\n        case TOGGLE_IS_FETCHING:\r\n            return { ...state, isFetching: action.isFetching }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProcess: action.isFetching\r\n                    ? [...state.followingInProcess, action.userId]\r\n                    : state.followingInProcess.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingInProcess = (isFetching, userId) => ({ type: FOLLOWING_IN_PROGRESS, isFetching, userId })\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setCurrentPage(currentPage))\r\n\r\n        let data = await usersApi.getUsers(currentPage, pageSize)\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingInProcess(true, userId))\r\n    let data = await apiMethod(userId)\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingInProcess(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersApi.postUsers.bind(usersApi), followSuccess)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersApi.deleteUsers.bind(usersApi), unfollowSuccess)\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsSpinner\":\"Preloader_ldsSpinner__NoDl5\",\"lds-spinner\":\"Preloader_lds-spinner__1cP1t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginContainer\":\"LoginContainer_loginContainer__3JIEl\"};","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '0c7d80e1-aebc-4629-9fc1-998afb681929'\r\n    }\r\n})\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`, {})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    deleteUsers(id) {\r\n        return instance.delete(`follow/${id}`, {})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    postUsers(id) {\r\n        return instance.post(`follow/${id}`, {})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    authMe() {\r\n        return instance.get(`auth/me`, {})\r\n            .then(data => {\r\n                return data\r\n            })\r\n    },\r\n    getProfile(userId){\r\n        console.log('Obsolete method. Use profileAPI')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n            .then(data => {\r\n                return data\r\n            })\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n            .then(data => {\r\n                return data\r\n            })\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status` , {status: status} )\r\n    },\r\n    savePhoto(photoFile){\r\n        const formData = new FormData();\r\n        formData.append('image',photoFile)\r\n        return instance.put(`profile/photo`,formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile){\r\n        return instance.put(`profile` , profile )\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    login(email, password, rememberMe, captcha) {\r\n        return instance.post(`/auth/login`, {email, password, rememberMe,captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`/auth/login`)\r\n    },\r\n    captchaUrl(){\r\n      return instance.get(`security/get-captcha-url`)\r\n    }\r\n}"],"sourceRoot":""}